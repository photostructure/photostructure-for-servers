/**
 * Copyright © 2026, PhotoStructure Inc. All rights reserved.
 *
 * BY USING THIS SOFTWARE, YOU ACCEPT ALL OF THE TERMS IN
 * https://photostructure.com/eula
 * IF YOU DO NOT ACCEPT THESE TERMS, DO NOT USE THIS SOFTWARE
 */
function S(t){return typeof t=="function"}function mt(t){return S(t)?t():t}function ht(t){return t!=null&&t instanceof Error}function gt(t){return t==null?void 0:ht(t)?t:new Error(String(t))}function pt(t){let e,r,n=!1;const s=function(){if(n){if(r!=null)throw r;return e}try{return n=!0,e=t()}catch(f){throw r=gt(f),r}};return s.prior=()=>e,s.hasPrior=()=>n,s.applied=()=>n,s.reset=()=>{const i=e;return e=void 0,r=void 0,n=!1,i},s}function d(t){return St(t)??[]}function St(t){return Array.isArray(t)?t:t==null?void 0:L(t)?[t]:Mt(t)?Array.from(t):[t]}function L(t){return typeof t=="string"}function Ee(t,e){return e==null||e===""?t:(t=m(t),e=m(e),t.startsWith(e)?t:e+t)}function de(t,e,r){return t.split(e).join(r)}function c(t){return typeof t=="number"&&isFinite(t)}function bt(t){return typeof t=="number"&&(isNaN(t)||!isFinite(t))}const wt=/^\d+$/;function Ae(t){return wt.test(m(t))}const It=/^[+-]?[\d.]+$/;function Et(t){if(c(t)||W(t))return!0;try{if(L(t)&&(t=t.trim(),It.test(t)))return isFinite(parseFloat(t))}catch{}return!1}function W(t){return typeof t=="bigint"}function ke(t,e){return c(t)&&c(e)&&t<e}function dt(t,e){return c(t)&&c(e)&&t>e}function Te(t,e){return c(t)&&c(e)&&t>=e}function Re(t,e,r){return c(t)&&c(e)?Math.abs(t-e)<=r:!1}function At(t){if(!c(t))return;const e=Math.trunc(t);return e===0?Math.abs(e):e}function kt(t){return typeof t?.toNumber=="function"}function Tt(t,e){if(v(t)||bt(t)||e.strict===!0&&!Et(t))return e.defaultValue;if(c(t))return e.nton(t);if(W(t)){if(t>BigInt(Number.MAX_SAFE_INTEGER)||t<BigInt(Number.MIN_SAFE_INTEGER))throw new Error("precision loss for "+t);return e.nton(Number(t))}if(kt(t))return e.nton(t.toNumber());try{const r=e.ston(m(t).trim());return c(r)?e.nton(r):e.defaultValue}catch{return e.defaultValue}}function $(t,e){return Tt(t,{defaultValue:void 0,nton:r=>At(r),ston:parseInt,...e})}function C(t){return Rt(t,0)}function Rt(t,e){const r=$(t);return r!=null&&r>e?r:void 0}function I(t){return c(t)&&t>0}function Ne(...t){for(const e of t){if(I(e))return e;const r=$(e);if(I(r))return r}}function Me(t){return c(t)&&t>=0}function Nt(t,e){const r=$(t);return r==null?void 0:e(r)}function ve(t,e){return c(t)?e(t):void 0}function De(t,e){return c(t)?t:mt(e)}function D(t){return c(t)?t<0?-Math.round(-t):Math.round(t):0}function Ce(t,e){if(!c(t)||t===0||e===0)return 0;const r=e-D(Math.ceil(Math.log10(Math.abs(t)))),n=Math.pow(10,Math.abs(r));return r<0?D(t/n)*n:D(t*n)/n}function xe(t,e,r){if(t>e||!c(t)||!c(e))throw new Error(`invalid clamp(${t}, ${e}, ${r})`);return c(r)?r<t?t:r>e?e:r:(t+e)/2}function Pe(t,e){if(!I(t))return[];const r=Math.round(t);return r<=0?[]:[...Array(r)].map((n,s)=>e(s))}function Mt(t){return t!=null&&typeof t!="string"&&typeof t[Symbol.iterator]=="function"}function x(t,e,r){if(e==null)throw new Error("null key");if(t.has(e))return t.get(e);{const n=r();return n!=null&&t.set(e,n),n}}function Be(t,e){for(const[r,n]of t.entries())e(r,n)&&t.delete(r)}function vt(t){switch(typeof t){case"number":return isFinite(t);case"string":case"boolean":return!0;default:return!1}}const V=["boolean","number","bigint","symbol","string","object","function"],K="⤹";function T(t,e){if(t===e)return 0;if(t==null)return-1;if(e==null)return 1;const r=typeof t,n=typeof e;if((r==="string"||r==="symbol")&&(n==="string"||n==="symbol")){const s=m(t),i=m(e),f=s.localeCompare(i);return s[0]===K&&i[0]===K?-f:f}return Array.isArray(t)&&Array.isArray(e)?Dt(t,e):r!==n?V.indexOf(r)-V.indexOf(n):t>e?1:t<e?-1:0}function qe(t,e){return T(t,e)<0}function _e(t,e){return T(t,e)>0}function Dt(t,e,r=!0){if(J(t)&&J(e))return 0;const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=T(t[s],e[s]);if(i!==0)return i}return T(t.length,e.length)*(r?1:-1)}function R(t){return typeof t=="boolean"}function Je(t){if(typeof t=="boolean")return t;if(t==null)return!1;if(t===1)return!0;{const e=String(t).toLowerCase().trim();return["true","1"].includes(e)}}const Ct=typeof Promise=="function",nt=typeof Symbol<"u",P=typeof Map<"u",B=typeof Set<"u",xt=typeof WeakMap<"u",Pt=typeof WeakSet<"u",Bt=typeof DataView<"u",st=nt&&typeof Symbol.iterator<"u",G=nt&&typeof Symbol.toStringTag<"u",qt=B&&typeof Set.prototype.entries=="function",_t=P&&typeof Map.prototype.entries=="function",Jt=qt&&Object.getPrototypeOf(new Set().entries()),jt=_t&&Object.getPrototypeOf(new Map().entries()),ot=st&&typeof Array.prototype[Symbol.iterator]=="function",Ft=ot&&Object.getPrototypeOf([][Symbol.iterator]()),it=st&&typeof String.prototype[Symbol.iterator]=="function",Lt=it&&Object.getPrototypeOf(""[Symbol.iterator]()),Wt=8,$t=-1;function Q(t){const e=typeof t;if(e!=="object")return e;if(t===null)return"null";if(t===globalThis)return"global";if(Array.isArray(t)&&(G===!1||!(Symbol.toStringTag in t)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&t===window.location)return"Location";if(typeof window.document=="object"&&t===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&t===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&t===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&t instanceof window.HTMLElement){if(t.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(t.tagName==="TD")return"HTMLTableDataCellElement";if(t.tagName==="TH")return"HTMLTableHeaderCellElement"}}const r=G&&t[Symbol.toStringTag];if(typeof r=="string")return r;const n=Object.getPrototypeOf(t);return n===RegExp.prototype?"RegExp":n===Date.prototype?"Date":Ct&&n===Promise.prototype?"Promise":B&&n===Set.prototype?"Set":P&&n===Map.prototype?"Map":Pt&&n===WeakSet.prototype?"WeakSet":xt&&n===WeakMap.prototype?"WeakMap":Bt&&n===DataView.prototype?"DataView":P&&n===jt?"Map Iterator":B&&n===Jt?"Set Iterator":ot&&n===Ft?"Array Iterator":it&&n===Lt?"String Iterator":n===null?"Object":Object.prototype.toString.call(t).slice(Wt,$t)}function Y(t,e,r){if(r==null||b(t)||b(e))return null;const n=r.get(t)?.get(e);return typeof n=="boolean"?n:null}function A(t,e,r,n){if(r==null||b(t)||b(e))return;let s=r.get(t);s!=null?s.set(e,n):(s=new WeakMap,s.set(e,n),r.set(t,s))}function zt(t,e,r){return r??={},r.memoize!==!1&&(r.memoize??=new WeakMap),N(t,e,r)}function N(t,e,r,n){if(r?.comparator!=null)return Z(t,e,r,n);const s=ut(t,e);return s!==null?s:Z(t,e,r)}function ut(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e?!0:b(t)||b(e)?!1:null}function Z(t,e,r,n){r??={};const s=r.memoize===!1?void 0:r.memoize??=new WeakMap,i=r?.comparator,f=Y(t,e,s);if(f!==null)return f;const o=Y(e,t,s);if(o!==null)return o;if(i){const a=i(t,e,n);if(a===!1||a===!0)return A(t,e,s,a),a;const g=ut(t,e);if(g!==null)return g}const u=Q(t);if(u!==Q(e))return A(t,e,s,!1),!1;A(t,e,s,!0);const l=Ut(t,e,u,r);return A(t,e,s,l),l}function Ut(t,e,r,n){switch(r){case"String":case"Number":case"Boolean":case"Date":return N(t.valueOf(),e.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return t===e;case"Error":return ft(t,e,["name","message","code"],n);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return h(t,e,n);case"RegExp":return Vt(t,e);case"Generator":return Kt(t,e,n);case"DataView":return h(new Uint8Array(t.buffer),new Uint8Array(e.buffer),n);case"ArrayBuffer":return h(new Uint8Array(t),new Uint8Array(e),n);case"Set":return X(t,e,n);case"Map":return X(t,e,n);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return t.equals(e);case"Temporal.Duration":return t.total("nanoseconds")===e.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return t.toString()===e.toString();default:return k(t,e,n)}}function Vt(t,e){return t.toString()===e.toString()}function X(t,e,r){if(t.size!==e.size)return!1;if(t.size===0)return!0;const n=[],s=[];return t.forEach(function(f,o){n.push([f,o])}),e.forEach(function(f,o){s.push([f,o])}),h(n.sort(),s.sort(),r)}function h(t,e,r){const n=t.length;if(n!==e.length)return!1;if(n===0)return!0;let s=-1;for(;++s<n;)if(N(t[s],e[s],r)===!1)return!1;return!0}function Kt(t,e,r){return h(q(t),q(e),r)}function Gt(t){return typeof Symbol<"u"&&typeof t=="object"&&typeof Symbol.iterator<"u"&&typeof t[Symbol.iterator]=="function"}function O(t){if(Gt(t))try{return q(t[Symbol.iterator]())}catch{return[]}return[]}function q(t){let e=t.next();const r=[e.value];for(;e.done===!1;)e=t.next(),r.push(e.value);return r}function H(t){const e=[];for(const r in t)t[r]!==void 0&&e.push(r);return e}function tt(t){const e=[],r=Object.getOwnPropertySymbols(t);for(let n=0;n<r.length;n+=1){const s=r[n];Object.getOwnPropertyDescriptor(t,s)?.enumerable===!0&&e.push(s)}return e}function ft(t,e,r,n){const s=r.length;if(s===0)return!0;for(let i=0;i<s;i+=1){const f=r[i],o=t[f],u=e[f];if(typeof o=="function"&&typeof u=="function"){if(o.toString()!==u.toString())return!1}else if(N(o,u,n,f)===!1)return!1}return!0}function k(t,e,r){if(typeof t.eql=="function"){const o=t.eql(e);if(R(o))return o}if(typeof e.eql=="function"){const o=e.eql(t);if(R(o))return o}if(typeof t.toJSON=="function")return k(t.toJSON(),e,r);if(typeof e.toJSON=="function")return k(t,e.toJSON(),r);if(typeof t=="object"&&typeof e=="object"&&typeof t.constructor=="function"&&typeof e.constructor=="function"&&k(t.constructor,e.constructor,r)===!1)return!1;const n=[...H(t),...tt(t)],s=[...H(e),...tt(e)];if(n.length&&n.length===s.length)return h(et(n).sort(),et(s).sort())===!1?!1:ft(t,e,n,r);const i=O(t),f=O(e);return i.length&&i.length===f.length?(i.sort(),f.sort(),h(i,f,r)):n.length===0&&i.length===0&&s.length===0&&f.length===0}function b(t){return t===null||typeof t!="object"}function et(t){return t.map(function(r){return typeof r=="symbol"?r.toString():r})}function y(t){return t!=null&&typeof t=="object"}function Qt(t){return y(t)?Object.keys(t).filter(e=>typeof e=="string"&&[void 0,!0].includes(t.propertyIsEnumerable?.(e))):[]}function*rt(t){if(t!=null)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield e)}function je(t){if(t==null||typeof t!="object")return!0;for(const e in t)if(t[e]!==void 0)return!1;return!0}function Yt(t){return t==null?[]:Object.entries?.(t)??Qt(t??{}).map(e=>[e,t[e]])}function _(t,e){if(t==null)return e;for(const r of t)if(r!=null&&Array.isArray(r)){const[n,s]=r;n!=null&&s!==void 0&&(typeof e!="object"&&(e={}),e[n]=s)}return e}function Zt(t,...e){if(!y(t))return t;const r={};for(const n of e)t[n]!==void 0&&(r[n]=t[n]);return r}function Fe(t,...e){if(t==null)return t;const r=Yt(t).filter(([n])=>!e.includes(n));return _(r)}function Le(t,e,...r){const n=t?.[e];return S(n)?n.bind(t)(...r):void 0}function z(t,e){return zt(t,e,{comparator:se})}function Xt(t,e){for(const r of t)if(z(e,r))return r}function Ot(t,e){if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime()}function Ht(t,e){if(y(t)&&S(t.$eql)){const r=t.$eql(e);if(R(r))return r}if(y(e)&&S(e.$eql)){const r=e.$eql(t);if(R(r))return r}}function te(t,e){return S(t)&&S(e)?t.toString()===e.toString():void 0}function ee(t,e){return y(t)&&y(e)&&t.constructor?.name==="WeakRef"&&e.constructor?.name==="WeakRef"?t.deref()===e.deref():void 0}const re=[Ht,Ot,te,ee],ne=new Map;function se(t,e,r){if(t==null||e==null)return t===e;if(r!=null){const n=ne.get(r)?.(t,e);if(n!=null)return n}for(const n of re){const s=n(t,e);if(s!=null)return s}return null}function ct(t){return t!=null&&d(t).length>0}function J(t){return t==null||d(t).length===0}function We(t,e){return ct(t)?e(t):void 0}function lt(t,e,r=!1){for(let n=0;n<t.length;)if(e(t[n],n,t))n++;else if(t.splice(n,1),r)break;return t}function oe(t,...e){for(const r of e)r!=null&&Xt(t,r)==null&&t.push(r);return t}function $e(t,...e){const r=t.length;return lt(t,n=>e.every(s=>!z(n,s))),r!==t.length}function ze(t){return t==null?[]:lt(d(t),e=>e!=null)}function Ue(t){return t==null?[]:d(t).map(e=>m(e).trim()).filter(e=>e.length>0)}function Ve(t){return t==null?[]:[...t].filter(Ie)}function ie(...t){if(t==null)return[];const e=[];for(const r of t)if(r!=null)for(const n of r)n!=null&&e.push(n);return ue(e,r=>vt(r)?r:M(r))}function ue(t,e=r=>M(r)){const r=new Map;for(const n of t)if(n!=null){const s=e(n);s!=null&&x(r,s,()=>n)}return[...r.values()]}function fe(t,e){let r=0;for(let n=0;n<t.length;n++)r+=e(t[n],n);return r}function Ke(t,e="or"){return t.length<=1?t.join(""):t.length===2?t.join(" "+e+" "):t.slice(0,-1).join(", ")+", "+e+" "+t[t.length-1]}function ce(t,e){const r=[];for(let n=0;n<t.length;n++)e(t[n],n)&&r.push(n);return r}class E{store;static fromJSON(e){const r=new E;for(const[n,s]of Object.entries(e))r.add(n,...s);return r}constructor(e=new Map){this.store=e}get(e){return this.store.get(e)}has(e){return this.store.has(e)}includes(e,r){return this.store.get(e)?.includes(r)===!0}keyCount(){return this.store.size}isEmpty(){for(const e of this.store.values())if(e.length>0)return!1;return!0}valueCount(){return fe([...this.store.values()].map(e=>e.length),e=>e)}add(e,...r){const n=x(this.store,e,()=>[]);return n.push(...r),n}addUniq(e,...r){return oe(x(this.store,e,()=>[]),...r)}set(e,r){this.store.set(e,r)}delete(e,r){if(r==null)return this.store.delete(e);{const n=this.store.get(e);if(n==null)return!1;{const s=n.filter(i=>!z(i,r));return s.length===0?this.store.delete(e):this.store.set(e,s),n.length!==s.length}}}clear(){return this.store.clear(),this}*keys(){for(const[e,r]of this.store.entries())r.length>0&&(yield e)}*values(){for(const e of this.store.values())e.length>0&&(yield e)}vacuum(e=(r,n)=>ie(n)){for(const r of this.keys()){const n=this.store.get(r),s=n==null?[]:e(r,n);J(s)?this.store.delete(r):this.store.set(r,s)}}*valuesFlat(){for(const e of this.store.values())for(const r of e)yield r}entriesArray(){return[...this.store.entries()].filter(([,e])=>ct(e))}*entries(){for(const[e,r]of this.store.entries())r.length>0&&(yield[e,r])}*tuples(){for(const[e,r]of this.store.entries())for(const n of d(r))n!=null&&(yield[e,n])}filterInPlace(e){let r=!1;for(const[n,s]of this.store.entries()){const i=ce(s,f=>!e(n,f,s));if(i.length>0){r=!0;for(const f of i.reverse())s.splice(f,1)}s.length===0&&this.store.delete(n)}return r}filterKeysInPlace(e){let r=!1;for(const[n,s]of this.store.entries())e(n,s)||(r=!0,this.store.delete(n));return r}inverse(){const e=new E;for(const[r,n]of this.store.entries())for(const s of n)e.add(s,r);return e}findKeyByTuple(e){for(const[r,n]of this.tuples())if(e(r,n))return r}filterKeysByTuple(e){const r=[];for(const[n,s]of this.entries())s.some(i=>e(n,i))&&r.push(n);return r}toJSON(){const e={};for(const[r,n]of this.entries())e[L(r)?r:M(r)]=n;return e}}function le(t){return new he().apply(t)}function M(t,e){return JSON.stringify(le(t),void 0,e)}function ae(t){return t==null?t:new ge().apply(t)}function ye(t){return ae(JSON.parse(t.toString().trim()))}function Ge(t){try{return t==null||v(t)?void 0:ye(t)}catch{return}}class U{static classes=new Map;static add(e){this.classes.set(e.name,e),this.revivableClassNames.reset()}static getClass(e){return v(e)?void 0:this.classes.get(e)}static revivableClassNames=pt(()=>["Map","Set","Array",...this.classes.keys()]);static isRevivable(e){return this.revivableClassNames().includes(e.constructor?.name)}static addDefaults(){this.add({name:"Date",is(e){return e instanceof Date},toJSON(e){return{ts:e.getTime()}},fromJSON(e){return Nt(e?.ts,r=>new Date(r))}}),this.add({name:"RegExp",is(e){return e instanceof RegExp},toJSON(e){return{source:e.source,flags:e.flags}},fromJSON(e){return new RegExp(e.source,e.flags)}}),this.add({name:"Error",is(e){return e instanceof Error},toJSON(e){return Zt(e,"message","stack","code","errno")},fromJSON(e){const r=new Error(e.message);return r.stack=e.stack,r.code=e.code,r.errno=e.errno,r}}),this.add({name:BigInt.name,is(e){return W(e)},toJSON(e){return{n:e.toString()}},fromJSON(e){return BigInt(e.n)}})}}U.addDefaults();const w="_id",at="_ref",j="_ctor",p="_id[]",me=["object","bigint"];function F(t){return t!=null&&me.includes(typeof t)}class he{idCount=0;maxIdObjs=new Set;objects=new Map;idAdders=new E;usedRefIds=new Set;apply(e){this.findMaxId(e),this.maxIdObjs.clear();const r=this._decycle(e);return this.finalize(),this.objects.clear(),this.idAdders.clear(),this.usedRefIds.clear(),r}maybeIncrIdCount(e){dt(e,this.idCount)&&(this.idCount=e+1)}findMaxId(e){if(F(e)&&!this.maxIdObjs.has(e)){if(this.maxIdObjs.add(e),Array.isArray(e)){let r=0;for(e.length>0&&y(e[r])&&(p in e[r])&&(this.maybeIncrIdCount(e[r]?.[p]),r++);r<e.length;r++)this.findMaxId(e[r])}else if(y(e)){this.maybeIncrIdCount(e[w]);for(const r of rt(e))this.findMaxId(e[r])}}}getId(e){if(Array.isArray(e))return C(e[0]?.[p]);if(y(e))return C(e[w])}_decycle(e){if(!F(e))return e;const r=this.objects.get(e);if(r!=null)return this.usedRefIds.add(r),_([[at,r]]);const n=this.getId(e),s=n??++this.idCount;if(this.objects.set(e,s),Array.isArray(e)){const o=[];for(let u=0;u<e.length;u++)o[u]=this._decycle(e[u]);return n==null&&this.idAdders.add(s,()=>o.unshift(_([[p,s]]))),o}const i={};this.objects.set(i,s);const f=e.constructor?.name;if(e.constructor!==Object&&(i[j]=f),n==null&&this.idAdders.add(s,()=>i[w]=s),e instanceof Map)i._=[...e.entries()].map(([o,u])=>[this._decycle(o),this._decycle(u)]);else if(e instanceof Set)i._=[...e.values()].map(o=>this._decycle(o));else{const u=U.getClass(f)?.toJSON?.(e)??e.toJSON?.()??e;for(const l of rt(u))i[l]=this._decycle(u[l])}return i}finalize(){for(const e of this.usedRefIds)for(const r of this.idAdders.get(e)??[])r()}}class ge{objectsById=new Map;later=new E;apply(e){const r=this.vivify(e);return this.resolveDeferredReferences(),r}getRefId(e){return y(e)?C(e[at]):void 0}ifRefIdResolved(e,r){const n=this.getRefId(e);return n==null?!1:(this.objectsById.has(n)?r(this.objectsById.get(n)):this.later.add(n,()=>r(this.objectsById.get(n))),!0)}vivify(e){if(!F(e))return e;if(this.getRefId(e)!=null)throw new Error("Reference ID found in root object");if(Array.isArray(e)){const u=[];let l;e.length>0&&y(e[0])&&p in e[0]&&(l=e.shift()[p],this.objectsById.set(l,u));for(let a=0;a<e.length;a++)this.ifRefIdResolved(e[a],g=>u[a]=g)||(u[a]=this.vivify(e[a]));return u}const n=e[w],s=e[j],i=U.getClass(s),f=typeof i?.fromJSON=="function";let o;if(s==="Map"?o=new Map:s==="Set"?o=new Set:o={},I(n)&&!f&&this.objectsById.set(n,o),o instanceof Map)for(const[u,l]of e._){const a=this.vivify(u);this.ifRefIdResolved(l,g=>o.set(a,g))||o.set(a,this.vivify(l))}else if(o instanceof Set)for(const u of e._)this.ifRefIdResolved(u,l=>o.add(l))||o.add(this.vivify(u));else if(!(o instanceof Date)&&!(o instanceof RegExp))for(const u of Object.keys(e))u!==w&&u!==j&&(this.ifRefIdResolved(e[u],l=>o[u]=l)||(o[u]=this.vivify(e[u])));return f&&(o=i.fromJSON(o),I(n)&&this.objectsById.set(n,o)),o}resolveDeferredReferences(){const e=this.later.keyCount();for(let r=0;r<e;r++)for(const n of this.later.keys())if(this.objectsById.has(n)){const s=this.later.get(n);if(s!=null){this.later.delete(n);for(const i of s)i()}}}}function m(t){return yt(t,",")}const pe={}.toString;function yt(t,e=","){if(t==null)return"";switch(typeof t){case"string":return t;case"boolean":case"number":case"bigint":case"symbol":return String(t);default:return Array.isArray(t)?t.map(r=>yt(r,e)).join(e):t.toString!==pe?t.toString():M(t)}}function v(t){return t==null?!0:typeof t=="string"?t.trim().length===0:!1}function Se(t){return!v(t)}function Qe(t){if(t==null)return;const e=m(t);return e.length===0||e.trim().length===0?void 0:e}function Ye(t,e){if(t===!1||t==null||t==="")return;const r=m(t);return Se(r)?e(r):void 0}const be=/^\s*(?:(?:null|undefined)\s*)?$/i;function we(t){return t==null||be.test(m(t))}function Ie(t){return!we(t)}export{yt as $,_e as A,qe as B,Ce as C,xe as D,z as E,ve as F,L as G,Ge as H,M as I,Fe as J,S as K,_ as L,Ue as M,ke as N,Te as O,D as P,pt as Q,de as R,Ee as S,Le as T,mt as U,T as V,oe as W,Ne as X,We as Y,Ke as Z,Je as _,gt as a,Zt as a0,Yt as a1,v as b,m as c,ze as d,Ae as e,Pe as f,lt as g,Me as h,J as i,ct as j,$ as k,I as l,Ye as m,Se as n,c as o,x as p,je as q,$e as r,Be as s,d as t,De as u,C as v,ie as w,Ve as x,Qe as y,Re as z};
